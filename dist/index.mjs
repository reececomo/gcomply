function codable(e){const o=e;return o.init=e=>{const t=o[e];if(null==t)throw new Error("invalid value: "+t);return t},o.encode=e=>{for(const t in o)if(o[t]===e)return t},o}const e=codable({definite:1,indefinite:2}),o=codable({dependent:1,independent:2}),t={ablative:1,accusative:2,adessive:3,allative:4,dative:5,elative:6,essive:7,genitive:8,illative:9,inessive:10,locative:11,nominative:12,prepositional:13,translative:14},r=codable(t),n=codable({feminine:1,masculine:2,neuter:3}),s={singular:1,zero:2,plural:3,pluralTwo:4,pluralFew:5,pluralMany:6,init:e=>{switch(e){case"one":return s.singular;case"zero":return s.zero;case"other":return s.plural;case"two":return s.pluralTwo;case"few":return s.pluralFew;case"many":return s.pluralMany;default:throw new Error("invalid value: "+e)}},encode:e=>{switch(e){case s.singular:return"one";case s.zero:return"zero";case s.plural:return"other";case s.pluralTwo:return"two";case s.pluralFew:return"few";case s.pluralMany:return"many"}}},a=codable({first:1,second:2,third:3}),i=codable({determiner:1,pronoun:2,letter:3,adverb:4,particle:5,adjective:6,adposition:7,verb:8,noun:9,conjunction:10,numeral:11,interjection:12,preposition:13,abbreviation:14}),h=codable({personal:1,possessive:2,reflexive:3});var l=Object.freeze({__proto__:null,Definiteness:e,Determination:o,GrammaticalCase:r,GrammaticalGender:n,GrammaticalNumber:s,GrammaticalPerson:a,PartOfSpeech:i,PronounType:h,enumGrammaticalCase:t});const c=/^[a-z]+$/,u=/^[A-Z]+$/,d=/[a-zA-Z]+/i;function sortLongestLocaleCompare(e,o){return e.length!==o.length?o.length-e.length:e.localeCompare(o)}class LanguagePluralTable{constructor(){this.nextId=0,this.one=[],this.other=[],this.zero=[],this.two=[],this.few=[],this.many=[],this.tables=[this.one,this.other,this.zero,this.two,this.few,this.many],this.keys=new Set,this.tags=[]}test(e,o){if(e=this.getReplaceablePortion(e),!this.matcher.test(e))return!1;if(null==o)return!0;const t=this.lookup(e);return this.tags[t]===o}getReplaceablePortion(e){var o;return null!==(o=(e.toLowerCase().match(/\b[a-zA-Z]+\b/)||[""])[0])&&void 0!==o?o:e}replace(e,o){const t=this.getReplaceablePortion(e);if(!this.keys.has(t))return t;const r=this.getTable(o),n=this.lookup(t);return r[n]?function caseAwareReplace(e,o,t){const r=e.toLowerCase().indexOf(o),n=r<=0?"":e.substring(0,r),s=e.substring(r,o.length),a=r+o.length===e.length?"":e.substring(r+o.length);let i;i=c.test(s)?t:u.test(s)?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase();if(d.test(n)||d.test(a))return e;return n+i+a}(e,t,r[n]):e}addTagged(e,...o){for(const t of o){const o=[t.zero,t.one,t.other,t.two,t.few,t.many].filter((e=>!!e));for(const e of o){if(this.keys.has(e))throw new Error("Duplicate entry added: "+e);this.keys.add(e)}const r=this.nextId++;t.zero&&(this.zero[r]=t.zero.toLowerCase()),t.one&&(this.one[r]=t.one.toLowerCase()),t.other&&(this.other[r]=t.other.toLowerCase()),t.two&&(this.two[r]=t.two.toLowerCase()),t.few&&(this.few[r]=t.few.toLowerCase()),t.many&&(this.many[r]=t.many.toLowerCase()),null!=e&&(this.tags[r]=e)}const t=[...this.keys].sort(sortLongestLocaleCompare);return this.matcher=function makeMatcher(e){return new RegExp(`\\b(?:${e.join("|")})\\b`,"i")}(t),this}add(...e){return this.addTagged(void 0,...e)}lookup(e,o){let t=-1;for(const r of this.tables)if(o!==r&&(t=r.indexOf(e),t>-1))break;if(-1===t)throw new Error("Unexpectedly failed to find known value: "+e);return t}getTable(e){switch(e){case s.singular:return this.one;case s.plural:return this.other;case s.zero:return this.zero;case s.pluralTwo:return this.two;case s.pluralFew:return this.few;case s.pluralMany:return this.many}}}const p=new class PluralManager{constructor(){this.data=new Map}add(e,...o){return this.forLang(e).add(...o),this}forLang(e){if(!this.data.get(e)){const o=new LanguagePluralTable;this.data.set(e,o)}return this.data.get(e)}};const m=p.forLang("en").addTagged(i.noun,{one:"account",other:"accounts"},{one:"ad",other:"ads"},{one:"adult",other:"adults"},{one:"advert",other:"adverts"},{one:"advertisement",other:"advertisements"},{one:"alert",other:"alerts"},{one:"app",other:"apps"},{one:"application",other:"applications"},{one:"approval",other:"approvals"},{one:"asset",other:"assets"},{one:"attachment",other:"attachments"},{one:"attempt",other:"attempts"},{one:"audience",other:"audiences"},{one:"audio",other:"audios"},{one:"backup",other:"backups"},{one:"balance",other:"balances"},{one:"body",other:"bodies"},{one:"bookmark",other:"bookmarks"},{one:"branch",other:"branches"},{one:"bug",other:"bugs"},{one:"build",other:"builds"},{one:"button",other:"buttons"},{one:"campaign",other:"campaigns"},{one:"case",other:"cases"},{one:"category",other:"categories"},{one:"cell",other:"cells"},{one:"cent",other:"cents"},{one:"charge",other:"charges"},{one:"chart",other:"charts"},{one:"child",other:"children"},{one:"click",other:"clicks"},{one:"clickthrough",other:"clickthroughs"},{one:"client",other:"clients"},{one:"code",other:"codes"},{one:"color",other:"colors"},{one:"column",other:"columns"},{one:"comment",other:"comments"},{one:"commenter",other:"commenters"},{one:"commit",other:"commits"},{one:"component",other:"components"},{one:"configuration",other:"configurations"},{one:"connection",other:"connections"},{one:"conversion",other:"conversions"},{one:"coupon",other:"coupons"},{one:"credit",other:"credits"},{one:"customer",other:"customers"},{one:"dashboard",other:"dashboards"},{one:"day",other:"days"},{one:"dependency",other:"dependencies"},{one:"device",other:"devices"},{one:"discount",other:"discounts"},{one:"document",other:"documents"},{one:"doc",other:"docs"},{one:"dollar",other:"dollars"},{one:"download",other:"downloads"},{one:"element",other:"elements"},{one:"email",other:"emails"},{one:"endpoint",other:"endpoints"},{one:"entry",other:"entries"},{one:"environment",other:"environments"},{one:"error",other:"errors"},{one:"euro",other:"euros"},{one:"event",other:"events"},{one:"exception",other:"exceptions"},{one:"feature",other:"features"},{one:"field",other:"fields"},{one:"file",other:"files"},{one:"folder",other:"folders"},{one:"follower",other:"followers"},{one:"font",other:"fonts"},{one:"foot",other:"feet"},{one:"form",other:"forms"},{one:"framework",other:"frameworks"},{one:"goal",other:"goals"},{one:"graph",other:"graphs"},{one:"group",other:"groups"},{one:"header",other:"headers"},{one:"hit",other:"hits"},{one:"hour",other:"hours"},{one:"image",other:"images"},{one:"impression",other:"impressions"},{one:"inch",other:"inches"},{one:"invite",other:"invites"},{one:"invoice",other:"invoices"},{one:"issue",other:"issues"},{one:"item",other:"items"},{one:"key",other:"keys"},{one:"kpi",other:"kpis"},{one:"label",other:"labels"},{one:"lead",other:"leads"},{one:"library",other:"libraries"},{one:"like",other:"likes"},{one:"limit",other:"limits"},{one:"link",other:"links"},{one:"log",other:"logs"},{one:"man",other:"men"},{one:"member",other:"members"},{one:"merge",other:"merges"},{one:"message",other:"messages"},{one:"metric",other:"metrics"},{one:"microsecond",other:"microseconds"},{one:"millisecond",other:"milliseconds"},{one:"minute",other:"minutes"},{one:"module",other:"modules"},{one:"note",other:"notes"},{one:"notification",other:"notifications"},{one:"option",other:"options"},{one:"order",other:"orders"},{one:"package",other:"packages"},{one:"page",other:"pages"},{one:"pageview",other:"pageviews"},{one:"parameter",other:"parameters"},{one:"password",other:"passwords"},{one:"payment",other:"payments"},{one:"permission",other:"permissions"},{one:"person",other:"people"},{one:"plan",other:"plans"},{one:"plugin",other:"plugins"},{one:"policy",other:"policies"},{one:"post",other:"posts"},{one:"pound",other:"pounds"},{one:"preference",other:"preferences"},{one:"product",other:"products"},{one:"profile",other:"profiles"},{one:"project",other:"projects"},{one:"promotion",other:"promotions"},{one:"pull",other:"pulls"},{one:"quota",other:"quotas"},{one:"rating",other:"ratings"},{one:"record",other:"records"},{one:"refund",other:"refunds"},{one:"release",other:"releases"},{one:"reminder",other:"reminders"},{one:"report",other:"reports"},{one:"request",other:"requests"},{one:"response",other:"responses"},{one:"result",other:"results"},{one:"review",other:"reviews"},{one:"revision",other:"revisions"},{one:"role",other:"roles"},{one:"route",other:"routes"},{one:"row",other:"rows"},{one:"rule",other:"rules"},{one:"scenario",other:"scenarios"},{one:"script",other:"scripts"},{one:"segment",other:"segments"},{one:"session",other:"sessions"},{one:"setting",other:"settings"},{one:"share",other:"shares"},{one:"snapshot",other:"snapshots"},{one:"statistic",other:"statistics"},{one:"status",other:"statuses"},{one:"step",other:"steps"},{one:"style",other:"styles"},{one:"sub",other:"subs"},{one:"subscriber",other:"subscribers"},{one:"subscription",other:"subscriptions"},{one:"supplier",other:"suppliers"},{one:"table",other:"tables"},{one:"tag",other:"tags"},{one:"tap",other:"taps"},{one:"target",other:"targets"},{one:"task",other:"tasks"},{one:"team",other:"teams"},{one:"template",other:"templates"},{one:"test",other:"tests"},{one:"theme",other:"themes"},{one:"ticket",other:"tickets"},{one:"token",other:"tokens"},{one:"transaction",other:"transactions"},{one:"trend",other:"trends"},{one:"update",other:"updates"},{one:"upload",other:"uploads"},{one:"user",other:"users"},{one:"variable",other:"variables"},{one:"version",other:"versions"},{one:"video",other:"videos"},{one:"view",other:"views"},{one:"viewer",other:"viewers"},{one:"visit",other:"visits"},{one:"warning",other:"warnings"},{one:"week",other:"weeks"},{one:"widget",other:"widgets"},{one:"woman",other:"women"},{one:"year",other:"years"}).addTagged(i.verb,{one:"is",other:"are"},{one:"was",other:"were"}),f=/(?:\(s\)|\(ies\)|\(es\))/;function pluralize(e,o,t){f.test(e)&&(e=e.replace(f,""));const r="only-nouns"===t?i.noun:void 0;if(!m.test(e,r))return e;const n=1===o?s.singular:s.plural;return m.replace(e,n)}const w=/(.*?)(\. |, |\n|$)/g;const b=/[0-9]+(?:,[0-9]+)*/,v=3,y=1;function numberAgreement(e){return b.test(e)?function processSentences(e,o){return e.replace(w,((e,t,r)=>o(t)+r))}(e,coerceNumberAgreement):e}function coerceNumberAgreement(e){const o=e.split(" "),t=new Array(o.length).fill(!1);for(let e=0;e<o.length;e++){if(!b.test(o[e]))continue;const n=(r=o[e],Number.parseInt(r.replace(/[^0-9]/g,"")));let s=!1;for(let r=1;r<=v&&!s;r++){const a=e+r,i=e-r;if(a<o.length&&!t[a]){const e=pluralize(o[a],n,"only-nouns");if(e!==o[a]){o[a]=e,t[a]=!0;for(let e=a+1;e<o.length&&e<=a+y&&!t[e];e++){const r=pluralize(o[e],n,"only-nouns");r!==o[e]&&(o[e]=r,t[e]=!0)}s=!0}}if(i>=0&&!t[i]){const e=pluralize(o[i],n,"nouns-verbs");if(e!==o[i]){let r=!1;for(let e=i-1;e>=0&&e>=i-y&&!t[e];e--){pluralize(o[e],n,"only-nouns")!==o[e]&&(r=!0)}r||(o[i]=e,t[i]=!0),s=!0}}}}var r;return o.join(" ")}function g(e,...o){return inflect(e.reduce(((e,t,r)=>{const n=o[r-1];return void 0===n?e+t:e+n+t})))}function inflect(e,o){var t;return"en"===(null!==(t=null==o?void 0:o.language)&&void 0!==t?t:"en")?numberAgreement(e):e}function localizedPhrase(e){return{localizedPhrase:e}}function termsOfAddress(e){return{termsOfAddress:e}}class InflectionRule{static canInflect(e){return e.startsWith("en")}static explicit(e){return new InflectionRule(e)}constructor(e){this.morphology=e}}InflectionRule.automatic=new InflectionRule;class TermOfAddress{static localized({language:e,pronouns:o}){return new TermOfAddress(e,o)}constructor(e,o){this.language=e,this.pronouns=o}}TermOfAddress.feminine=new TermOfAddress,TermOfAddress.masculine=new TermOfAddress,TermOfAddress.neutral=new TermOfAddress;export{l as Grammar,InflectionRule,p as Plurals,TermOfAddress,g,inflect,localizedPhrase,termsOfAddress};
//# sourceMappingURL=index.mjs.map
